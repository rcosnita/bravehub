<link rel="import" href="../bower_components/iron-form/iron-form.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="../bower_components/paper-input/paper-textarea.html">

<link rel="import" href="configuration-upload-file.html">

<dom-module id="configuration-api-details">
  <template>
    <style>
    paper-button {
      background-color: var(--app-primary-color);
    }

    :host {
      background-color: var(--api-details-background);
    }

    .builds-section {
      display: flex;
      width: 100%;
    }

    .builds-section .wide {
      display: -webkit-flex;
      display: flex;
      width: 80%;
    }

    paper-textarea.large {
      width: 100%;
    }
    </style>

    <template is="dom-if" if="{{apiModel}}">
      <iron-form>
        <form>
          <paper-input label="path" value="{{apiModel.path}}"></paper-input>
          <paper-input label="ports (comma separated value)" value="{{ports}}"></paper-input>

          <div class="builds-section">
            <iron-form class="wide">
              <paper-textarea label="builds" class="large" value="{{buildsData}}"></paper-textarea>
            </iron-form>
          </div>

          <template is="dom-if" if="{{isNew}}">
            <configuration-upload-file folder-upload archive archive-result="{{droplet}}" label="Droplet content"></configuration-upload-file>

            <configuration-upload-file folder-upload label="Config files" files-content="{{configFiles}}"></configuration-upload-file>
          </template>

          <!-- <paper-button raised>Update</paper-button> -->
          <template is="dom-if" if="{{projectModel}}">
            <paper-button raised on-click="createApi">Create</paper-button>
          </template>
        </form>
      </iron-form>
    </template>
  </template>

  <script type="module" src="js/configuration-api-details.js"></script>
</dom-module>
